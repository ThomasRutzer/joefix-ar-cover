{"version":3,"sources":["store.js","config.js","assets/sounds/song.mp3","assets/sounds/atmo.mp3","assets/sounds/analyzed.mp3","hooks/useTimout.js","components/sound/useAppleSafariSoundHack.js","components/sound/AudioPlayer.js","components/sound/AudioAnalyzer.js","components/sound/index.js","assets/images/tracked-image.png","components/ui/info/media.js","components/ui/externalLink/index.js","components/ui/footer/index.js","components/ui/info/index.js","components/ui/loadingIndicator/index.js","App.js","index.js"],"names":["store","create","set","view","VIEWS","INTRO","appState","arEngineReady","sceneEntered","mute","currentSongDuration","audioAnalyseState","signal","DELAY_UNTIL_SONG_STARTS","DELAY_UNTIL_ANALYTE_STARTS","SCENE","APP_STATES","PREPARE_PLAY","SHALL_PLAY","PLAY","PLAY_FINISHED","TRACKED_IMAGE_SIZE","width","height","depth","useTimeout","callback","delay","savedCallback","useRef","useEffect","current","id","setTimeout","clearTimeout","useAppleSafariSoundHack","audioNodeRef","unlockAudio","useCallback","play","pause","currentTime","document","body","removeEventListener","ua","navigator","userAgent","toLowerCase","indexOf","addEventListener","AudioPlayer","src","srcType","shallPlay","onPlay","onLoadedMetaData","onEnded","props","audioRef","useState","isPlaying","setIsPlaying","a","console","log","tryPlay","ref","onLoadedMetadata","preload","style","display","type","createAudio","url","threshold","fetch","res","arrayBuffer","buffer","context","window","AudioContext","webkitAudioContext","analyser","createAnalyser","fftSize","data","Uint8Array","frequencyBinCount","source","createBufferSource","Promise","decodeAudioData","loop","gainNode","createGain","gain","value","connect","destination","state","avg","update","getByteFrequencyData","i","length","AudioAnalyzer","shallAnalyze","audio","setAudio","createdAudio","createAudioFromSrc","start","addEffect","useStore","setState","Sound","songShallPlay","setSongShallPlay","scheduleSongToPlay","setSchedulerForSongPlay","analyzeShallStart","setAnalyzeShallStart","atmoShallPlay","setAtmoShallPlay","analyzedSoundAsset","e","Math","round","target","duration","songAsset","muted","atmoSoundAsset","Media","className","alt","trackedImage","ExternalLink","label","link","href","rel","xmlns","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","Footer","footer","Info","onStartButton","show","setShow","contentTransitions","useTransition","from","opacity","y","enter","leave","config","molasses","onRest","footerTranisitons","styles","item","div","onClick","LoadingIndicator","labelTransitions","wrapperTransitions","querySelector","setAttribute","wrapperStyles","wrapper","labelStyes","p","CanvasContainer","lazy","App","fallback","collapsed","hidden","process","reactRoot","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.81e38762.chunk.js","sourcesContent":["import create from \"zustand\"\n\nimport { VIEWS } from \"./config\"\n\nconst store = create(set => ({\n  view: VIEWS.INTRO,\n  appState: null,\n  arEngineReady: false,\n  sceneEntered: false,\n  mute: false,\n  currentSongDuration: null,\n  audioAnalyseState: { signal: false }\n}))\n\nexport default store","export const DELAY_UNTIL_SONG_STARTS = 3000\nexport const DELAY_UNTIL_ANALYTE_STARTS = 2400\n\nexport const VIEWS = {\n  INTRO: \"intro\",\n  SCENE: \"scene\"\n}\n\nexport const APP_STATES = {\n  PREPARE_PLAY: \"preparePlay\",\n  SHALL_PLAY: \"shallPlay\",\n  PLAY: \"play\",\n  PLAY_FINISHED: \"playFinished\"\n}\n\nexport const TRACKED_IMAGE_SIZE = {\n  width: 200,\n  height: 200,\n  depth: 200\n}\n","export default __webpack_public_path__ + \"static/media/song.a30f0198.mp3\";","export default __webpack_public_path__ + \"static/media/atmo.5e0eb98a.mp3\";","export default __webpack_public_path__ + \"static/media/analyzed.a1b0ce3d.mp3\";","import { useEffect, useRef } from \"react\"\n\nfunction useTimeout(callback, delay) {\n  const savedCallback = useRef(callback)\n\n  useEffect(() => {\n    savedCallback.current = callback\n  }, [callback])\n\n  useEffect(() => {\n    if (delay === null) {\n      return\n    }\n\n    const id = setTimeout(() => savedCallback.current(), delay)\n\n    return () => clearTimeout(id)\n  }, [delay])\n}\n\nexport default useTimeout\n","import { useCallback, useEffect } from \"react\"\n\nconst useAppleSafariSoundHack = audioNodeRef => {\n  const unlockAudio = useCallback(() => {\n    if (!audioNodeRef.current) { return }\n    \n    audioNodeRef.current.play()\n    audioNodeRef.current.pause()\n    audioNodeRef.current.currentTime = 0\n\n    document.body.removeEventListener(\"click\", unlockAudio)\n    document.body.removeEventListener(\"touchstart\", unlockAudio)\n  }, [audioNodeRef])\n\n  useEffect(() => {\n    if (!audioNodeRef.current) { return }\n\n    const ua = navigator.userAgent.toLowerCase()\n\n    if (ua.indexOf('safari') !== -1 && !ua.indexOf('chrome') > -1) {\n      document.body.addEventListener(\"click\", unlockAudio)\n      document.body.addEventListener(\"touchstart\", unlockAudio)\n    }\n  }, [audioNodeRef, unlockAudio])\n}\n\nexport default useAppleSafariSoundHack","import { useEffect, useRef, useState } from \"react\";\nimport useAppleSafariSoundHack from \"./useAppleSafariSoundHack\";\n\nconst AudioPlayer = ({ \n  src, srcType = \"mp3\", shallPlay,\n  onPlay = () => {}, onLoadedMetaData = () => {}, onEnded = () => {},\n  ...props\n}) => {\n  const audioRef = useRef()\n  const [isPlaying, setIsPlaying] = useState(false)\n\n  useAppleSafariSoundHack(audioRef, src)\n\n  useEffect(() => {\n    async function tryPlay() {\n      try {\n        await audioRef.current.play()\n        setIsPlaying(true)\n        onPlay()\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    if (shallPlay && !isPlaying) {\n      tryPlay()\n    } else if(!shallPlay && isPlaying) {\n      audioRef.current.pause()\n      setIsPlaying(false)\n    }\n  }, [shallPlay, onPlay, isPlaying])\n\n  return (\n    <audio\n      ref={audioRef}\n      onEnded={onEnded}\n      onLoadedMetadata={onLoadedMetaData}\n      preload=\"auto\"\n      {...props}\n      style={{ display: \"none\" }}>\n      <source\n        src={src}\n        type={`audio/${srcType}`} />\n    </audio>\n  )\n}\n\nexport default AudioPlayer","/** based on https://codesandbox.io/s/audio-analyser-forked-nck96?file=/src/App.js **/\nimport { useEffect, useState } from \"react\"\nimport { addEffect } from '@react-three/fiber'\n\nimport useStore from \"./../../store\"\n\nasync function createAudio(url, threshold = 10) {\n  const res = await fetch(url)\n  const buffer = await res.arrayBuffer()\n  const context = new (window.AudioContext || window.webkitAudioContext)()\n  const analyser = context.createAnalyser()\n  analyser.fftSize = 2048\n  const data = new Uint8Array(analyser.frequencyBinCount)\n  const source = context.createBufferSource()\n  source.buffer = await new Promise((res) => context.decodeAudioData(buffer, res))\n  source.loop = false\n  const gainNode = context.createGain()\n  gainNode.gain.value = 0\n  gainNode.connect(context.destination)\n  source.connect(analyser)\n  analyser.connect(gainNode)\n\n  let state = {\n    source,\n    data,\n    signal: false,\n    avg: 0,\n    update: () => {\n      let value = 0\n      analyser.getByteFrequencyData(data)\n      for (let i = 0; i < data.length; i++) value += data[i]\n      const avg = (state.avg = value / data.length)\n      if (threshold && avg > threshold) {\n        state.signal = true\n      } else state.signal = false\n    }\n  }\n\n  return state\n}\n\nconst AudioAnalyzer = ({ src, shallAnalyze }) => {\n  const [audio, setAudio] = useState(null)\n\n  useEffect(() => {\n    const createAudioFromSrc = async () => {\n      const createdAudio = await createAudio(src)\n      setAudio(createdAudio)\n    }\n\n    if (!audio) {\n      createAudioFromSrc()\n    }\n  }, [audio, src])\n\n  useEffect(() => {\n    if (shallAnalyze && audio) {\n      audio.source.start(0)\n\n      addEffect(() => {\n        audio.update()\n        useStore.setState({ audioAnalyseState: audio })\n      })\n    }\n  }, [audio, shallAnalyze])\n\n  return null\n}\n\nexport default AudioAnalyzer","import { useEffect, useState } from \"react\"\n\nimport songAsset from \"./../../assets/sounds/song.mp3\"\nimport atmoSoundAsset from \"./../../assets/sounds/atmo.mp3\"\nimport analyzedSoundAsset from \"./../../assets/sounds/analyzed.mp3\"\nimport useStore from \"../../store\"\nimport { APP_STATES, DELAY_UNTIL_SONG_STARTS, DELAY_UNTIL_ANALYTE_STARTS } from \"../../config\"\nimport useTimeout from \"../../hooks/useTimout\"\nimport AudioPlayer from \"./AudioPlayer\"\nimport AudioAnalyzer from \"./AudioAnalyzer\"\n\nconst Sound = () => {\n  const appState = useStore(state => state.appState)\n  const mute = useStore(state => state.mute)\n  const [songShallPlay, setSongShallPlay] = useState(null)\n  const [scheduleSongToPlay, setSchedulerForSongPlay] = useState(null)\n  const [analyzeShallStart, setAnalyzeShallStart] = useState(null)\n  const [atmoShallPlay, setAtmoShallPlay] = useState(null)\n\n  useTimeout(() => setSongShallPlay(true), scheduleSongToPlay ? DELAY_UNTIL_SONG_STARTS : null)\n  useTimeout(() => setAnalyzeShallStart(true), scheduleSongToPlay ? DELAY_UNTIL_ANALYTE_STARTS : null)\n\n  useEffect(() => {\n    switch (appState) {\n      case APP_STATES.SHALL_PLAY:\n        setAtmoShallPlay(true)\n        setSchedulerForSongPlay(true)\n        return\n      case APP_STATES.PLAY_FINISHED:\n        setAtmoShallPlay(false)\n        setSongShallPlay(false)\n        setSchedulerForSongPlay(false)\n        setAnalyzeShallStart(false)\n        return\n      default:\n        return null\n    }\n  }, [appState])\n\n  return (\n    <>\n      <AudioAnalyzer \n        shallAnalyze={analyzeShallStart} \n        src={analyzedSoundAsset} />\n      <AudioPlayer\n        onLoadedMetaData={\n          e => useStore.setState({ currentSongDuration: Math.round(e.target.duration * 1000) })\n        }\n        onEnded={() => useStore.setState({ appState: APP_STATES.PLAY_FINISHED })}\n        shallPlay={songShallPlay}\n        src={songAsset}\n        loop={false}\n        muted={mute}\n      />\n      <AudioPlayer\n        onPlay={() => useStore.setState({ appState: APP_STATES.PLAY })}\n        src={atmoSoundAsset}\n        shallPlay={atmoShallPlay}\n        loop={true}\n        muted={mute}\n      />\n    </>\n  )\n}\n\nexport default Sound","export default __webpack_public_path__ + \"static/media/tracked-image.2c278093.png\";","import React from \"react\"\n\nimport trackedImage from \"./../../../assets/images/tracked-image.png\"\nimport \"./media.css\"\n\nconst Media = () => {\n  return (\n    <div className=\"media\">\n      <img\n        alt=\"Cover of Joe Fix – of ties & knives EP\"\n        src={trackedImage} />\n      <div>\n        <h2 className=\"media__subtitle\">Listen to</h2>\n        <h1 className=\"media__title\">\n          Joe Fix – of ties <br /> & knives\n        </h1>\n      </div>\n    </div>\n  )\n}\n\nexport default Media","import React from \"react\"\n\nimport \"./index.css\"\n\nconst ExternalLink = ({ label, link }) => (\n  <a\n    className=\"external-link\"\n    href={link}\n    rel=\"noopener noreferrer\"\n    target=\"_blank\"\n  >\n    {label}\n    <svg\n      className=\"external-link__icon\"\n      aria-hidden=\"true\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"1em\"\n      height=\"1em\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"#000000\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"square\"\n      strokeLinejoin=\"arcs\"\n    >\n      <path d=\"M7 17l9.2-9.2M17 17V7H7\" />\n    </svg>\n  </a>\n)\n\nexport default ExternalLink\n","import { animated } from \"@react-spring/web\"\n\nimport \"./index.css\"\nimport ExternalLink from \"./../externalLink\"\n\nconst Footer = props => {\n  \n  return (\n    <animated.footer {...props}>\n      <div className=\"footer__content\">\n        <ul>\n          <li>\n            <ExternalLink label=\"turntable model\" link=\"https://market.pmnd.rs/model/turntable\"></ExternalLink>\n          </li>\n          <li>\n            <ExternalLink label=\"vinyl model\" link=\"https://www.turbosquid.com/3d-models/disc-vinyl-3d-model-1608654\"></ExternalLink>\n          </li>\n        </ul>\n        <ul>\n          <li>\n            <ExternalLink label=\"listen on Bandcamp\" link=\"https://joefix1.bandcamp.com/releases\"></ExternalLink>\n          </li>\n          <li>\n            <ExternalLink label=\"made by Thomas Rutzer\" link=\"https://thomasrutzer.dev/legal\"></ExternalLink>\n          </li>\n        </ul>\n      </div>\n    </animated.footer >\n  )\n}\n\nexport default Footer","import React, { useState } from \"react\"\nimport { useTransition, animated, config } from \"@react-spring/web\"\n\nimport \"./index.css\"\nimport Media from \"./media\"\nimport Footer from \"./../footer\"\n\nconst Info = ({ onStartButton }) => {\n  const [show, setShow] = useState(true)\n\n  const contentTransitions = useTransition(show, {\n    from: { opacity: 0, y: 90 },\n    enter: { opacity: 1, y: 0 },\n    leave: { opacity: 0, y: 90 },\n    delay: show ? 1000 : 200,\n    config: config.molasses,\n    onRest: () => {\n      if (!show) {\n        onStartButton()\n      }\n    }\n  })\n\n  const footerTranisitons = useTransition(show, {\n    from: { opacity: 0, y: 30 },\n    enter: { opacity: 1, y: 0 },\n    leave: { opacity: 0, y: 30 },\n    delay: show ? 1000 : 0,\n    config: config.molasses\n  })\n\n  return (\n    <>\n      {\n        contentTransitions(\n          (styles, item) => item &&\n            <animated.div className=\"info\" style={styles}>\n              <div className=\"info__content\">\n                <Media />\n                <div className=\"info__explanation\">\n                  <p className=\"info__copy\">\n                    Welcome to the JOE FIX AR Radio. It's experimental, sometimes doesn't work and it's gonna be loud & fix.\n                    But you'll be just fine, no worries!\n                  </p>\n                  <button className=\"info__cta\" onClick={() => setShow(false)}>Show me!</button>\n                </div>\n              </div>\n            </animated.div>\n        )\n      }\n      {\n        footerTranisitons(\n          (styles, item) => item &&\n            <Footer style={styles} />\n        )\n      }\n    </>\n  )\n}\n\nexport default Info","import { useTransition, animated, config } from \"@react-spring/web\"\nimport useTimeout from \"../../../hooks/useTimout\"\n\nimport { VIEWS } from \"../../../config\"\nimport useStore from \"./../../../store\"\nimport \"./index.css\"\n\nconst LoadingIndicator = () => {\n  const view = useStore(state => state.view)\n  const arEngineReady = useStore(state => state.arEngineReady)\n\n  const labelTransitions = useTransition(view !== VIEWS.INTRO, {\n    from: { opacity: 0, y: 30 },\n    enter: { opacity: 1, y: 0 },\n    delay: 300,\n    config: config.molasses\n  })\n\n  const wrapperTransitions = useTransition(!arEngineReady, {\n    from: { opacity: 0 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 },\n    config: config.molasses\n  })\n\n  useTimeout(() => {\n    document.querySelector(\"meta[name='theme-color']\").setAttribute(\"content\", \"#e2192c\");\n  }, 90000)\n\n  return (\n    <>\n      {wrapperTransitions(\n        (wrapperStyles, wrapper) => wrapper &&\n          <animated.div className=\"loading-indicator\" style={wrapperStyles}>\n            {labelTransitions(\n              (labelStyes, label) => label &&\n                <animated.p className=\"loading-indicator__label\" style={labelStyes}>Pump up the volume…</animated.p>\n            )}\n            <div className=\"loading-indicator__logo\" />\n            <span className=\"loading-indicator__drop\"></span>\n            <span className=\"loading-indicator__drop loading-indicator__drop--delay-300 loading-indicator__drop--small\"></span>\n            <span className=\"loading-indicator__fill\"></span>\n          </animated.div>\n      )}\n    </>\n  )\n}\n\nexport default LoadingIndicator","import React, { lazy, Suspense } from \"react\"\nimport { Leva } from \"leva\"\n\nimport useStore from \"./store\"\nimport { VIEWS } from \"./config\"\nimport Sound from \"./components/sound\"\nimport Info from \"./components/ui/info\"\nimport LoadingIndicator from \"./components/ui/loadingIndicator\"\nconst CanvasContainer = lazy(() => import(\"./components/gl/CanvasContainer\"))\n\nconst App = () => {\n\n  return (\n    <>\n      <LoadingIndicator />\n\n      <Info onStartButton={() => useStore.setState({ view: VIEWS.SCENE })} />\n      <>\n        <Suspense fallback={<LoadingIndicator />}>\n          <CanvasContainer />\n        </Suspense>\n      </>\n\n      <Sound />\n      <Leva\n        collapsed\n        hidden={process.env.NODE_ENV === \"production\"}\n      />\n    </>\n  )\n}\n\nexport default App","import React from \"react\"\nimport ReactDOM from \"react-dom\"\n\nimport \"./style.css\"\nimport App from \"./App\"\n\nconst reactRoot = document.getElementById(\"root\")\nReactDOM.render(<App />, reactRoot)\n"],"sourceRoot":""}