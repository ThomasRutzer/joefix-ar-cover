(this["webpackJsonpjoe-fix-ar-radio"]=this["webpackJsonpjoe-fix-ar-radio"]||[]).push([[0],{18:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i}));var a=3e3,c={INTRO:"intro",SCENE:"scene"},r={PREPARE_PLAY:"preparePlay",SHALL_PLAY:"shallPlay",PLAY:"play",PLAY_FINISHED:"playFinished"},i={width:200,height:200,depth:200}},19:function(e,t,n){"use strict";var a=n(31),c=n(18),r=Object(a.a)((function(e){return{view:c.d.INTRO,appState:null,arEngineReady:!1,sceneEntered:!1,mute:!1,currentSongDuration:null}}));t.a=r},52:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(22),r=n.n(c),i=(n(52),n(43)),o=n(19),s=n(18),l=n(2),u=n.p+"static/media/song.a30f0198.mp3",d=n.p+"static/media/atmo.5e0eb98a.mp3";var j=function(e,t){var n=Object(a.useRef)(e);Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setTimeout((function(){return n.current()}),t);return function(){return clearTimeout(e)}}}),[t])},b=n(4),f=n(14),m=n.n(f),O=n(21),p=n(6),h=function(e,t){function n(){e.current.play(),e.current.pause(),e.current.currentTime=0,document.body.removeEventListener("click",n),document.body.removeEventListener("touchstart",n)}Object(a.useEffect)((function(){e.current&&function(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("safari")&&!e.indexOf("chrome")>-1}()&&(document.body.addEventListener("click",n),document.body.addEventListener("touchstart",n))}),[e])},x=n(3),y=["src","srcType","shallPlay","onPlay","onLoadedMetaData","onEnded"],v=function(e){var t=e.src,n=e.srcType,c=void 0===n?"mp3":n,r=e.shallPlay,i=e.onPlay,o=void 0===i?function(){}:i,s=e.onLoadedMetaData,u=void 0===s?function(){}:s,d=e.onEnded,j=void 0===d?function(){}:d,f=Object(p.a)(e,y),v=Object(a.useRef)(),g=Object(a.useState)(!1),_=Object(l.a)(g,2),E=_[0],S=_[1];return h(v,t),Object(a.useEffect)((function(){function e(){return(e=Object(O.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.current.play();case 3:S(!0),o(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}r&&!E?function(){e.apply(this,arguments)}():!r&&E&&(v.current.pause(),S(!1))}),[r,o,E]),Object(x.jsx)("audio",Object(b.a)(Object(b.a)({ref:v,onEnded:j,onLoadedMetadata:u,preload:"auto"},f),{},{style:{display:"none"},children:Object(x.jsx)("source",{src:t,type:"audio/".concat(c)})}))},g=function(){var e=Object(o.a)((function(e){return e.appState})),t=Object(o.a)((function(e){return e.mute})),n=Object(a.useState)(null),c=Object(l.a)(n,2),r=c[0],i=c[1],b=Object(a.useState)(null),f=Object(l.a)(b,2),m=f[0],O=f[1],p=Object(a.useState)(null),h=Object(l.a)(p,2),y=h[0],g=h[1];return j((function(){return i(!0)}),m?s.b:null),Object(a.useEffect)((function(){switch(e){case s.a.SHALL_PLAY:return g(!0),void O(!0);case s.a.PLAY_FINISHED:return g(!1),i(!1),void O(!1);default:return null}}),[e]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(v,{onLoadedMetaData:function(e){return o.a.setState({currentSongDuration:Math.round(1e3*e.target.duration)})},onEnded:function(){return o.a.setState({appState:s.a.PLAY_FINISHED})},shallPlay:r,src:u,loop:!1,muted:t}),Object(x.jsx)(v,{onPlay:function(){return o.a.setState({appState:s.a.PLAY})},src:d,shallPlay:y,loop:!0,muted:t})]})},_=n(20),E=(n(68),n.p+"static/media/tracked-image.2c278093.png"),S=(n(69),function(){return Object(x.jsxs)("div",{className:"media",children:[Object(x.jsx)("img",{alt:"Cover of Joe Fix \u2013 of ties & knives EP",src:E}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"media__subtitle",children:"Listen to"}),Object(x.jsxs)("h1",{className:"media__title",children:["Joe Fix \u2013 of ties ",Object(x.jsx)("br",{})," & knives"]})]})]})}),k=(n(70),function(e){var t=e.label,n=e.link;return Object(x.jsxs)("a",{className:"external-link",href:n,rel:"noopener noreferrer",target:"_blank",children:[t,Object(x.jsx)("svg",{className:"external-link__icon","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"#000000",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"arcs",children:Object(x.jsx)("path",{d:"M7 17l9.2-9.2M17 17V7H7"})})]})}),N=function(e){var t=e.onStartButton,n=Object(a.useState)(!0),c=Object(l.a)(n,2),r=c[0],i=c[1];return Object(_.useTransition)(r,{from:{opacity:0,y:300},enter:{opacity:1,y:0},leave:{opacity:0,y:300},delay:r?1e3:0,config:_.config.molasses,onRest:function(){r||t()}})((function(e,t){return t&&Object(x.jsx)(_.animated.div,{className:"info",style:e,children:Object(x.jsxs)("div",{className:"info__content",children:[Object(x.jsx)(S,{}),Object(x.jsxs)("div",{className:"info__explanation",children:[Object(x.jsx)("p",{className:"info__copy",children:"Welcome to the JOE FIX AR Radio. It's experimental, sometimes doesn't work and it's gonna be loud & fix. But you'll be just fine, no worries!"}),Object(x.jsx)("button",{className:"info__cta",onClick:function(){return i(!1)},children:"Show me!"}),Object(x.jsxs)("div",{className:"info__link-list-wrapper",children:[Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(k,{label:"turntable model",link:"https://market.pmnd.rs/model/turntable"})}),Object(x.jsx)("li",{children:Object(x.jsx)(k,{label:"vinyl model",link:"https://www.turbosquid.com/3d-models/disc-vinyl-3d-model-1608654"})})]}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(k,{label:"listen on Bandcamp",link:"https://joefix1.bandcamp.com/releases"})}),Object(x.jsx)("li",{children:Object(x.jsx)(k,{label:"made by Thomas Rutzer",link:"https://thomasrutzer.dev/legal"})})]})]})]})]})})}))},L=(n(71),function(){var e=Object(o.a)((function(e){return e.view})),t=Object(o.a)((function(e){return e.arEngineReady})),n=Object(_.useTransition)(e!==s.d.INTRO,{from:{opacity:0,y:30},enter:{opacity:1,y:0},delay:300,config:_.config.molasses}),a=Object(_.useTransition)(!t,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:_.config.molasses});return j((function(){document.querySelector("meta[name='theme-color']").setAttribute("content","#e2192c")}),9e4),Object(x.jsx)(x.Fragment,{children:a((function(e,t){return t&&Object(x.jsxs)(_.animated.div,{className:"loading-indicator",style:e,children:[n((function(e,t){return t&&Object(x.jsx)(_.animated.p,{className:"loading-indicator__label",style:e,children:"Pump up the volume\u2026"})})),Object(x.jsx)("div",{className:"loading-indicator__logo"}),Object(x.jsx)("span",{className:"loading-indicator__drop"}),Object(x.jsx)("span",{className:"loading-indicator__drop loading-indicator__drop--delay-300 loading-indicator__drop--small"}),Object(x.jsx)("span",{className:"loading-indicator__fill"})]})}))})}),w=Object(a.lazy)((function(){return Promise.all([n.e(2),n.e(4)]).then(n.bind(null,210))})),P=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(L,{}),Object(x.jsx)(N,{onStartButton:function(){return o.a.setState({view:s.d.SCENE})}}),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(a.Suspense,{fallback:Object(x.jsx)(L,{}),children:Object(x.jsx)(w,{})})}),Object(x.jsx)(g,{}),Object(x.jsx)(i.a,{collapsed:!0,hidden:!0})]})},A=document.getElementById("root");r.a.render(Object(x.jsx)(P,{}),A)}},[[72,1,3]]]);
//# sourceMappingURL=main.1ddb0ee0.chunk.js.map